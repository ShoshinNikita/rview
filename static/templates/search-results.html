<div class="search-results">
	{{ if .Hits }}
	<ul class="search-hits">
		{{ range .Hits }}
		<li class="search-hit">
			<div class="search-hit-icon">
				{{ embedFileIcon .Icon }}
			</div>

			{{ $title := printf `Go to "%s"` .Path }}
			<a class="search-hit-link" href="{{ .WebURL }}" title="{{ $title }}">{{ .Path }}</a>
		</li>
		{{ end }}
	</ul>
	{{ end }}

	{{ if .Total }}
	<div class="total">
		{{ $text := "" }}
		{{ if eq .Total (len .Hits) }}
		{{ $text = printf "Found %d matches" .Total }}
		{{ else }}
		{{ $text = printf "Showing top %d of %d matches" (len .Hits) .Total }}
		{{ end }}

		{{ $limit := 100 }}
		{{ $previewText := "preview all" }}
		{{ if gt .Total $limit }}
		{{ $previewText = printf "preview top %d" $limit}}
		{{ end }}
		<span>{{ $text }} (<a data-search-preview-link href="/ui-search?search={{ .Search }}&limit={{ $limit }}">{{ $previewText }}</a>)</span>
	</div>
	{{ end }}
</div>